### 8.6 몽구스 사용하기

- MySQL에 시퀄라이즈가 있다면, 몽고디비에는 몽구스(Mongoose)가 있다.

![이미지-13](https://user-images.githubusercontent.com/50399804/110485260-cba50380-812e-11eb-88cc-274a09b59e85.png)

<br>

- 몽구스는 시퀄라이즈와 달리 ODM(Object Document Mapping) 이라고 불린다. 몽고디비는 릴레이션이 아니라 다큐먼트를 사용하므로 ORM 이 아니라 ODM 이다.

<br>

- 몽고디비 자체가 이미 자바스크립트인데도 굳이 자바스크립트 객체와 매핑하는 이유는 뭘까?
  - 몽고디비에 없어서 불편한 기능들을 몽구스가 보완해주기 때문이다.

<br>

- 스키마(schema)라는 것이 생겼다. 몽고디비는 테이블이 없어서 자유롭게 데이터를 넣을 수 있지만, 때로는 자유로움이 불편함을 초래한다. 실수로 잘못된 자료형의 데이터를 넣을 수도 있고, 다른 도큐먼트에 없는 필드의 데이터를 넣을 수도 있다. 

- 몽구스는 몽고디비에 데이터를 넣기 전에 노드 서버 단에서 데이터를 한 번 필터링하는 역할을 한다.

- MySQL 에 있는 JOIN 기능을 populate 라는 메서드로 어느 정도 보완하며, 따라서 관계가 있는 데이터를 쉽게 가져올 수 있다. 비록 쿼리 한 번에 데이터를 합쳐서 가져오는 것은 아니지만, 이 작업을 우리가 직접 하지 않아도 되므로 편리하다.

- ES2015 프로미스 문법과 강력하고 가독성이 높은 쿼리 빌더를 지원하는 것도 장점이다. 몽구스 실습을 위한 새 프로젝트를 생성하자. learn-mongoose 폴더를 만들고, 그 안에 package.json 을 생성하자.

_package.json_

```json
{
  "name": "learn-mongoose",
  "version": "0.0.1",
  "description": "몽구스를 배우자",
  "main": "app.js",
  "scripts": {
    "start": "nodemon app"
  },
  "author": "xeropise",
  "license": "MIT"
}
```

<br>

- 이제 몽구스와 필요한 패키지를 설치하자.

_콘솔_
```
$ npm i express morgan nunjucks mongoose
$ npm i -D nodemon
```